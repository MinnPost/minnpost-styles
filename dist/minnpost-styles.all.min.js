/*! minnpost-styles - v0.0.1 - 2014-01-20
* https://github.com/MinnPost/minnpost-styles
* Copyright (c) 2014 ; Licensed MIT */

!function(a,b){if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("minnpost-styles"),require("underscore"),require("jquery"),require("datatables"));else if("function"==typeof define&&define.amd)define("minnpost-styles.datatables",["minnpost-styles","underscore","jquery","datatables"],b);else{if(!(a.MP&&a._&&a.jQuery.fn.dataTable))throw new Error("Could not find dependencies for MinnPost Styles Datatables.");b(a.MP,a._,a.jQuery)}}("undefined"!=typeof window?window:this,function(a,b,c){a.datatables=a.datatables||{},a.datatables.makeTable=function(b,d){var e=b.find("table");return d=c.extend(!0,{},d,a.datatables.defaultOptions),e.dataTable(d),e},a.datatables.defaultOptions={iDisplayLength:10,bLengthChange:!1,bProcessing:!1,bAutoWidth:!0,aaSorting:[[0,"asc"]],aLengthMenu:[[10,20,50,-1],[10,20,50,"All"]],oLanguage:{sSearch:"",oPaginate:{sNext:'<i class="fa fa-arrow-circle-right"></i> <span class="icon-text">Next</span>',sPrevious:'<i class="fa fa-arrow-circle-left"></i> <span class="icon-text">Previous</span>'}},sDom:'<"row datatables-top" <"column-small-50" l > <"column-small-50" f > >  < r > <"table-responsive-medium" t > <"row datatables-bottom" <"column-small-50" i > <"column-small-50" p > >',fnDrawCallback:function(){c(this).parent().parent().find(".dataTables_filter input").attr("placeholder","Search table")}},c.fn.dataTableExt.oApi.fnFilterClear=function(a){var b,d;if(a.oPreviousSearch.sSearch="","undefined"!=typeof a.aanFeatures.f)for(b=a.aanFeatures.f,d=0,iLen=b.length;iLen>d;d++)c("input",b[d]).val("");for(d=0,iLen=a.aoPreSearchCols.length;iLen>d;d++)a.aoPreSearchCols[d].sSearch="";a.oApi._fnReDraw(a)},c.fn.dataTableExt.aTypes.unshift(function(a){var b=a.replace(/[^\d\-\.\/a-zA-Z]/g,"");return c.isNumeric(b)||"-"===b?"formatted-num":null}),c.fn.dataTableExt.oSort["formatted-num-asc"]=function(a,b){var c=a.match(/\d/)?a.replace(/[^\d\-\.]/g,""):0,d=b.match(/\d/)?b.replace(/[^\d\-\.]/g,""):0;return parseFloat(c)-parseFloat(d)},c.fn.dataTableExt.oSort["formatted-num-desc"]=function(a,b){var c=a.match(/\d/)?a.replace(/[^\d\-\.]/g,""):0,d=b.match(/\d/)?b.replace(/[^\d\-\.]/g,""):0;return parseFloat(d)-parseFloat(c)},a.datatables.listenFilterLinks=function(a,b,d){d=d||"active",b.on("click.mp.filterLinks",".datatables-filter-link",function(a){a.preventDefault();var e=c(this);e.hasClass("filter-clear")?$dataTable.fnFilterClear():$dataTable.fnFilter(e.data("text"),e.data("col")),b.find(".datatables-filter-link").removeClass(d),e.addClass(d)})}}),function(a,b){if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("minnpost-styles"),require("underscore"));else if("function"==typeof define&&define.amd)define("minnpost-styles.formatters",["minnpost-styles","underscore"],b);else{if(!a.MP||!a._)throw new Error("Could not find dependencies for MinnPost Styles Formatters.");b(a.MP,a._)}}("undefined"!=typeof window?window:this,function(a,b){a.formatters=a.formatters||{},a.formatters.number=function(a,b){b=b||0===b?b:2;var c=/(\d+)(\d{3})/;for(split=a.toFixed(b).toString().split(".");c.test(split[0]);)split[0]=split[0].replace(c,"$1,$2");return b?split[0]+"."+split[1]:split[0]},a.formatters.integer=function(b,c){return c=c||!0,b=c?Math.round(b):b,a.formatters.number(b,0)},a.formatters.currency=function(b){return"$"+a.formatters.number(b,2)},a.formatters.percent=function(b,c){return c=c||0===c?c:1,a.formatters.number(100*b,c)+"%"},a.formatters.percentChange=function(b,c){return(b>0?"+":"")+a.formatters.percent(b,c)},a.formatters.change=function(b,c){return c=c||0===c?c:2,(b>0?"+":"")+a.formatters.number(b)},a.formatters.hash=function(a){return Math.abs(b.reduce(a.split(""),function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0))}}),function(a,b){if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("minnpost-styles"),require("jquery"),require("Highcharts"));else if("function"==typeof define&&define.amd)define("minnpost-styles.highcharts",["minnpost-styles","jquery","Highcharts"],b);else{if(!(a.MP&&a.jQuery&&a.Highcharts))throw new Error("Could not find dependencies for MinnPost Styles Highchart.");b(a.MP,a.jQuery,a.Highcharts)}}("undefined"!=typeof window?window:this,function(a,b){a.highcharts=a.highcharts||{},a.highcharts.makeChart=function(a,c){var d=b(a).highcharts(c);return d.highcharts()},a.highcharts.colors={},a.highcharts.colors.interface="#BCBCBC",a.highcharts.defaults={chart:{style:{fontFamily:'"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',color:a.highcharts.colors.interface}},colors:["#094C86","#0D6CBF","#098643","#4C8609"],credits:{enabled:!1},title:{enabled:!1,text:null},legend:{margin:20,borderWidth:0,itemDistance:6,style:{color:"inherit"},itemStyle:{color:"inherit"}},xAxis:{title:{enabled:!1,text:"Units (un)",margin:15,style:{color:"inherit",fontWeight:"normal"}},lineColor:a.highcharts.colors.interface,tickColor:a.highcharts.colors.interface,labels:{y:18,formatter:function(){return this.value}}},yAxis:{title:{enabled:!0,text:"Units (un)",margin:15,style:{color:"inherit",fontWeight:"normal"}},min:0,lineColor:a.highcharts.colors.interface,gridLineDashStyle:"ShortDash"},tooltip:{style:{},useHTML:!0,formatter:function(){return"<strong>"+this.series.name+"</strong>: "+this.y}}},a.highcharts.lineOptions=b.extend(!0,{},a.highcharts.defaults,{chart:{type:"line"},plotOptions:{line:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null,symbol:"circle",enabled:!1,states:{hover:{enabled:!0}}}}}}),a.highcharts.columnOptions=b.extend(!0,{},a.highcharts.defaults,{chart:{type:"column"},plotOptions:{column:{minPointLength:3}}}),a.highcharts.barOptions=b.extend(!0,{},a.highcharts.defaults,{chart:{type:"bar"},plotOptions:{bar:{minPointLength:3}},xAxis:{labels:{y:0}}}),a.highcharts.scatterOptions=b.extend(!0,{},a.highcharts.defaults,{chart:{type:"scatter"},xAxis:{title:{enabled:!0}},plotOptions:{scatter:{marker:{radius:5,lineWidth:2,lineColor:"rgba(255, 255, 255, 0.2)",hover:{lineColor:"rgba(255, 255, 255, 1)"}}}},tooltip:{formatter:function(){return"<strong>"+this.series.name+"</strong>: ("+this.x+", "+this.y+")"}}})}),function(a){var b={};"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define("minnpost-styles",function(){return b}):a.MP=b}("undefined"!=typeof window?window:this),function(a,b){if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("minnpost-styles"),require("Leaflet"));else if("function"==typeof define&&define.amd)define("minnpost-styles.maps",["minnpost-styles","Leaflet"],b);else{if(!a.MP||!a.Leaflet)throw new Error("Could not find dependencies for MinnPost Styles Maps.");b(a.MP,a.Leaflet)}}("undefined"!=typeof window?window:this,function(a,b){a.maps=a.maps||{},a.maps.minneapolisPoint=b.latLng(44.983333998267824,-93.26667000248563),a.maps.stPaulPoint=b.latLng(44.95370289870105,-93.08995780069381),a.maps.minnesotaPoint=b.latLng(46.518286790004616,-94.55406386114191),a.maps.mapboxSatelliteStreets="minnpost.map-95lgm5jf",a.maps.mapboxStreetsDarkLabels="minnpost.map-4v6echxm",a.maps.mapboxStreetsLightLabels="minnpost.map-wi88b700",a.maps.mapboxTerrainLight="minnpost.map-vhjzpwel",a.maps.mapboxTerrainDark="minnpost.map-dhba3e3l",a.maps.mapOptions={scrollWheelZoom:!1,trackResize:!0},a.maps.mapStyle={stroke:!0,color:"#2DA51D",weight:1.5,opacity:.9,fill:!0,fillColor:"#2DA51D",fillOpacity:.2},a.maps.mapboxAttribution='Some map imagery provided by <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a>.',a.maps.openstreetmapAttribution='Some map data provided by &copy; <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',a.maps.makeLeafletMap=function(c,d,e){d=d||a.maps.mapboxStreetsLightLabels,e=e||a.maps.minneapolisPoint;var f=new b.Map(c,a.maps.mapOptions),g=new b.tileLayer("//{s}.tiles.mapbox.com/v3/"+d+"/{z}/{x}/{y}.png");return f.addLayer(g),f.setView(e,8),f.removeControl(f.attributionControl),f},a.maps.makeMakiIcon=function(a,c,d){a=a||null,d=d||"094C86",c=c||"m";var e="https://api.tiles.mapbox.com/v3/marker/",f={s:{iconSize:[20,50],popupAnchor:[0,-20]},m:{iconSize:[30,70],popupAnchor:[0,-30]},l:{iconSize:[36,90],popupAnchor:[0,-40]}};return e=e+"pin-"+c+(null===a?"":"-"+a)+"+"+d+".png",new b.Icon(b.extend(f[c],{iconUrl:e,shadowAnchor:null,shadowSize:null,shadowUrl:null,className:"maki-marker"}))},a.maps.TooltipControl=b.Control.extend({options:{position:"topright"},initialize:function(){},update:function(a){this._contentWrapper.innerHTML=a,this.show()},show:function(){this._container.style.display="block"},hide:function(){this._container.style.display="none"},onAdd:function(){return this._container=b.DomUtil.create("div","map-tooltip"),this._contentWrapper=b.DomUtil.create("div","map-tooltip-content"),this._container.appendChild(this._contentWrapper),this.hide(),this._container},onRemove:function(){}})}),function(a,b){if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("minnpost-styles"),require("jquery"),require("underscore"));else if("function"==typeof define&&define.amd)define("minnpost-styles.nav",["minnpost-styles","jquery","underscore"],b);else{if(!(a.MP&&a.jQuery&&a._))throw new Error("Could not find dependencies for MinnPost Styles Maps.");b(a.MP,a.jQuery,a._)}}("undefined"!=typeof window?window:this,function(a,b,c){function d(c,d){this.element=c,this.$element=b(c),this._defaults=a.nav.MPStickDefaults,this.options=b.extend({},this._defaults,d),this._name="mpStick",this._scrollEvent="scroll.mp.mpStick",this._on=!1,this.init()}function e(c,d){this.element=c,this.$element=b(c),this._defaults=a.nav.MPScrollSpyDefaults,this.options=b.extend({},this._defaults,d),this._name="mpScollSpy",this._scrollEvent="scroll.mp.mpScollSpy",this.init()}a.nav=a.nav||{},a.nav.MPStickDefaults={activeClass:"stuck top",wrapperClass:"minnpost-full-container",topPadding:0,throttle:90},d.prototype={init:function(){this.$container=void 0===this.options.container?this.$element.parent():b(this.options.container),this.elementHeight=this.$element.outerHeight(!0),this.$spacer=b("<div>").height(this.elementHeight).hide(),this.$element.after(this.$spacer),this.options.wrapperClass&&this.$element.wrapInner('<div class="'+this.options.wrapperClass+'"></div>'),this._throttledListen=c.bind(c.throttle(this.listen,this.options.throttle),this),this._throttledListen(),b(window).on(this._scrollEvent,this._throttledListen)},listen:function(){var a=this.$container.offset().top,c=a+this.$container.height(),d=b(window).scrollTop(),e=a-this.options.topPadding,f=c-this.elementHeight-this.options.topPadding-2;!this._on&&d>e&&f>d?this.on():this._on&&(e>d||d>f)&&this.off()},on:function(){this.$element.addClass(this.options.activeClass),this.options.topPadding&&this.$element.css("top",this.options.topPadding),this.$spacer.show(),this._on=!0},off:function(){this.$element.removeClass(this.options.activeClass),this.options.topPadding&&this.$element.css("top","inherit"),this.$spacer.hide(),this._on=!1},remove:function(){this.$container.off(this._scrollEvent)}},b.fn.mpStick=function(a){return this.each(function(){b.data(this,"mpStick")||b.data(this,"mpStick",new d(this,a))})},a.nav.MPScrollSpyDefaults={activeClass:"active",offset:80,throttle:200},e.prototype={init:function(){this.$listeners=this.$element.find("[data-spy-on]"),this.$targets=this.$element.find("[data-spy-me]"),this._throttledListen=c.bind(c.throttle(this.listen,this.options.throttle),this),this._throttledListen(),b(window).on(this._scrollEvent,this._throttledListen),this.$listeners.on("click",c.bind(this.gotoClick,this))},listen:function(){var a,c=this,d=b(window).scrollTop();this.$targets.each(function(){var e=b(this);e.offset().top<=d+(c.options.offset+5)&&(a=e.data("spyMe"))}),a&&(this.$listeners.removeClass(this.options.activeClass),this.$element.find('[data-spy-on="'+a+'"]').addClass(this.options.activeClass))},gotoClick:function(a){a.preventDefault();b(a.target);this.goto(b(a.target).data("spyOn"))},"goto":function(a){var c=this.$element.find('[data-spy-me="'+a+'"]'),d=c.offset().top;b("html, body").animate({scrollTop:d-this.options.offset},600)},remove:function(){this.$container.off(this._scrollEvent)}},b.fn.mpScrollSpy=function(a){return this.each(function(){b.data(this,"mpScrollSpy")||b.data(this,"mpScrollSpy",new e(this,a))})}});